<template name="groupCampSearch">
     <div class="page-header">
          <h1 class="text-center">
               <img src="https://lightcastletech.files.wordpress.com/2013/04/campfire.png" width="80">
               Group Camp
               <small>Find Your Trip</small>
          </h1>
     </div>

     {{#if getUserName}}
     {{else}}
          <div class="alert alert-warning alert-dismissible" role="alert">
               You must have a username in order to sign up for Group Camps. Please got to the <a href="/userprofiles"> User Profiles </a> page to claim one.
          </div>
     {{/if}}

     <form class="form-inline">
          <div class="input-group">
               <div class="input-group-addon"><span class="glyphicon glyphicon-tag" aria-hidden="true"></span></div>
               <input type="text" class="js-searchTag form-control" size=25>
               <span class="input-group-btn">
                    <input class="js-searchTags btn btn-danger" type="submit" value="Search by Tag">
               </span>
          </div>
          &nbsp;&nbsp;&nbsp;&nbsp;
          <button class="js-seeAll form-control btn-default">See All</button>
          {{#if getUserName}}
               <button class="js-seeMine form-control btn-default btn-sm">See My Trips</button>
               <button class="js-seeAmGoing form-control btn-default btn-sm">See Trips I'm Going On</button>
          {{/if}}
     </form>

     <br>

     {{#each trip in getTrips}}
          <div class="alert alert-warning" role="alert">
               {{> GroupCampListing trip = trip}}
          </div>
     {{/each}}
</template>



<template name="GroupCampListing">
     <div class="row bg-warning">
          <div class="col-md-6">
               <a href="/GroupCampDetails/{{trip._id}}">
                    <h1>{{trip.title}}</h1>
               </a>

               <em>{{trip.message}}</em>

               <h6>
                    {{#each tag in trip.tags}}
                         {{#if isSearchedTag tag}}
                              <span class="label label-danger">{{tag}}</span>
                         {{else}}
                              <span class="label label-default">{{tag}}</span>
                         {{/if}}
                    {{/each}}
               </h6>

          </div>

          <div class="col-md-3">
               <img src={{trip.picture}} class="img-thumbnail">
          </div>

          <div class="col-md-3">

               {{#if getUserName}}
                    {{#if isMine}}
                         <button class = "js-cancel btn-sm btn-danger btn-block">Cancel Trip!</button>
                    {{else}}
                         {{#if amGoing}}
                              <button class = "js-changeAmGoing amGoing-color-{{trip._id}} btn-sm btn-default btn-block">
                                   <span class="amGoing-text-{{trip._id}}">Remove Me!</span>
                              </button>
                         {{else}}
                              <button class = "js-changeAmGoing amGoing-color-{{trip._id}} btn-sm btn-warning btn-block">
                                   <span class="amGoing-text-{{trip._id}}">Add Me!</span>
                              </button>
                         {{/if}}
                    {{/if}}
               {{/if}}

               <small>
                    {{#if trip.destination}}
                         In <em>{{trip.destination}}</em>
                    {{/if}}

                    {{#if trip.from}}
                         from <em>{{trip.from}}</em>
                    {{/if}}


                    {{#if trip.to}}
                         to <em>{{trip.to}}</em>
                    {{/if}}

                    {{#if trip.cost}}
                         for <em>${{trip.cost}}</em>
                    {{/if}}

                    {{#if trip.author}}
                         by
                         {{#if isMine}}
                              <span class="label label-primary">Me</span>
                         {{else}}
                              <span class="label label-info">{{trip.author}}</span>
                         {{/if}}
                    {{/if}}
                    .
                    <br><br>

                    {{#if hasEnoughTravelers}}
                         <br><br>
                         <div class="progress">
                              <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" style="width: {{getProgressBarWidth}}%">
                                   <span class="sr-only">20% Complete</span>
                                   This trip has enough people!
                              </div>
                         </div>
                    {{else}}
                         <p class="text-right">
                              <small>
                                   {{#if trip.threshold}}
                                        {{getTravelerCount trip}} Going / {{trip.threshold}} Needed
                                   {{/if}}
                              </small>
                         </p>

                         <div class="progress">
                              <div class="progress-bar progress-bar-warning progress-bar-striped" role="progressbar" style="width: {{getProgressBarWidth}}%">
                                   <span class="sr-only">20% Complete</span>
                              </div>
                         </div>
                    {{/if}}

               </small>

          </div>
     </div>
</template>



<template name="GroupCampDetails">
     <div class="page-header">
          <h1>
               {{title}} <br>
               <small>{{message}}</small>
          </h1>
          <h5>
               {{#each tag in tags}}
                    <span class="label label-default">{{tag}}</span>
               {{/each}}
          </h5>
     </div>

     <em>{{description}}</em>
     <br><br>

     {{#if destination}}
          In <em>{{destination}}</em>
     {{/if}}

     {{#if from}}
          from <em>{{from}}</em>
     {{/if}}


     {{#if to}}
          to <em>{{to}}</em>
     {{/if}}

     <br><br>

     {{#if author}}
          <em>@{{author}}</em>
     {{/if}}

     {{#if timestamp}}
          on <em>{{timestamp}}</em>
     {{/if}}

     {{#if link}}
          <br><br>
          <a href={{link}}>Click Here</a> for more.
     {{/if}}

     {{#if picture}}
          <br><br><br>
          <p class="text-center">
               <img src={{picture}}>
          </p>
     {{/if}}
</template>
